<!-- <app-breadcrumb title="Cart" linkText="cart"></app-breadcrumb> -->
<section class="cart_area">
    <div class="row mx-2">
        <div class="col-md-8 col-12">
            <div class="card">
                <div class="card-body">

                    @for(item of cartItems$ | async; track item.productId){
                    <div class="row">
                        <div class="col-md-2"><img class="img-fluid" [src]="item?.product?.thumbnail"
                                alt="Product Front View"></div>
                        <div class="col-md-6">
                            <p>{{ item?.product?.title }}</p>
                            <p class="text-gray">Brand: {{ item?.product?.brand }}</p>

                            <h5 class="price"><span>${{item?.product?.price}}<span>${{(item.product.price / (1 -
                                        item.product.discountPercentage / 100)) |
                                        number:'1.2-2'}}</span></span>
                                <span>
                                    {{item?.product?.discountPercentage | number:'1.0-0'}}%</span>
                            </h5>
                        </div>
                        <div class="col-md-4">
                            <div class="product_count">
                                <span class="input-number-decrement"
                                    (click)="updateQuantity(item.productId, (item.quantity || 1) - 1)">
                                    <i class="fa-solid fa-minus"></i>
                                </span>
                                <input class="input-number" type="number" [ngModel]="item.quantity" min="0" max="10"
                                    (ngModelChange)="updateQuantity(item.productId, $event)">
                                <span class="input-number-increment"
                                    (click)="updateQuantity(item.productId, (item.quantity || 1) + 1)">
                                    <i class="fa-solid fa-plus"></i>
                                </span>
                            </div>
                            <div>
                                <a href="javascript:void()" (click)="removeItem(item.productId)">
                                    <i class="fa-solid fa-trash"></i> Move to Wishlist
                                </a>
                                <a href="javascript:void()" class="ps-2" (click)="removeItem(item.productId)">
                                    <i class="fa-solid fa-trash"></i> Remove
                                </a>
                            </div>
                        </div>
                        <hr />

                    </div>
                    }

                    <div class="checkout_btn_inner text-end mt-4">
                        <a class="btn btn-secondary me-2" routerLink="/products">Continue Shopping</a>

                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-4 col-12">
            <div class="card border-none">
                <div class="card-body p-0 ">
                    <div class="order_box">
                        <h2>Price Details</h2>
                        <!-- <ul class="list">
                            <li>
                                <a href="#">Product<span>Total</span></a>
                            </li>
                            <li>
                                <a href="#">Fresh Blackberry <span class="middle">x 02</span><span
                                        class="last">$720.00</span></a>
                            </li>
                            <li>
                                <a href="#">Fresh Tomatoes <span class="middle">x 02</span><span
                                        class="last">$720.00</span>
                                </a>
                            </li>
                            <li>
                                <a href="#">Fresh Brocoli <span class="middle">x 02</span><span
                                        class="last">$720.00</span></a>
                            </li>
                        </ul> -->
                        <ul class="list list_2">
                            <li><a href="#">Subtotal <span>${{ cartTotal$ | async | number:'1.2-2' }}</span></a></li>
                            <li><a href="#">Shipping <span> $00.00</span></a></li>
                            <li><a href="#">Total<span>${{ cartTotal$ | async | number:'1.2-2' }}</span></a></li>
                        </ul>
                        <!-- <div class="payment_item">
                            <div class="radion_btn">
                                <input type="radio" id="f-option5" name="selector">
                                <label for="f-option5">Check payments</label>
                                <div class="check"></div>
                            </div>
                            <p> Please send a check to Store Name, Store Street, Store Town, Store State / County, Store
                                Postcode. </p>
                        </div>
                        <div class="payment_item active">
                            <div class="radion_btn">
                                <input type="radio" id="f-option6" name="selector"><label for="f-option6">Paypal
                                </label>
                                <img src="assets/img/gallery/card.jpg" alt="">
                                <div class="check"></div>
                            </div>
                            <p> Please send a check to Store Name, Store Street, Store Town, Store State / County, Store
                                Postcode. </p>
                        </div>
                        <div class="creat_account checkout-cap">
                            <input type="checkbox" id="f-option8" name="selector">
                            <label for="f-option8">Iâ€™ve read and accept the <a href="#">terms &amp;
                                    conditions*</a></label>
                        </div> -->
                        <!-- <a href="#" class="btn w-100">Proceed to Paypal</a> -->

                    </div>

                </div>
            </div>
            <div class="checkout_btn_inner text-end mt-4">
                <a class="btn btn-primary" routerLink="/checkout">Proceed to checkout</a>
            </div>
        </div>
    </div>
</section>